using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using System.Web.Routing;

namespace StayEasePG
{
    public class RouteConfig
    {
        public static void RegisterRoutes(RouteCollection routes)
        {
            routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

            routes.MapRoute(
                name: "Default",
                url: "{controller}/{action}/{id}",
                defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
            );
        }
    }
}








using StayEasePG.Models;
using System;
using System.Collections.Generic;
using System.Configuration;
using System.Data;
using System.Data.SqlClient;
using System.Linq;
using System.Web;
using System.Net.Mail;
using System.Web.Mvc;
using System.Net;

namespace StayEasePG.Controllers
{
    public class AccountController : Controller
    {
        // DB Connection
        string connString = ConfigurationManager.ConnectionStrings["StayEasePGConn"].ConnectionString;



        // ===================== REGISTER ======================
        [HttpPost]
        public ActionResult Register()
        {
            return View(new UserModel());
        }


        [HttpPost]
        public ActionResult Register(UserModel user, string Role)
        {
            user.Email = user.Email.ToLower().Trim();  // very important

            // check required fields
            if (!ModelState.IsValid)
            {
                TempData["error"] = "Please fill all required fields correctly!";
                return View(user);
            }

            if (user.Password != user.ConfirmPassword)
            {
                TempData["error"] = "Passwords do not match!";
                return View(user);
            }

            using (SqlConnection con = new SqlConnection(connString))
            {
                con.Open();

                // Step 1: Check email exists
                SqlCommand checkCmd = new SqlCommand("SP_CheckEmailExists", con);
                checkCmd.CommandType = CommandType.StoredProcedure;
                checkCmd.Parameters.AddWithValue("@Email", user.Email);

                int exists = Convert.ToInt32(checkCmd.ExecuteScalar());

                if (exists > 0)
                {
                    TempData["error"] = "Email already exists!";
                    return View(user);
                }
            }

            // STEP 2: Generate OTP
            string otp = new Random().Next(100000, 999999).ToString();

            using (SqlConnection con = new SqlConnection(connString))
            {
                con.Open();
                SqlCommand cmd = new SqlCommand("SP_OTP", con);
                cmd.CommandType = CommandType.StoredProcedure;
                cmd.Parameters.AddWithValue("@Mode", "Insert");
                cmd.Parameters.AddWithValue("@Email", user.Email);
                cmd.Parameters.AddWithValue("@OTP", otp);
                cmd.ExecuteNonQuery();
            }

            // STEP 3: Send Email
            SendOTPEmail(user.Email, otp);

            TempData["success"] = "OTP sent to your email!";
            TempData["UserData"] = user; // store temporarily
            TempData["Role"] = Role;

            ViewBag.Email = user.Email;
            return RedirectToAction("VerifyRegisterOTP", new { Email = user.Email });
        }


        [HttpGet]
        public ActionResult VerifyRegisterOTP(string Email)
        {
            ViewBag.Email = Email;
            return View();
        }

        [HttpPost]
        public ActionResult VerifyRegisterOTP(string Email, string OTP)
        {
            using (SqlConnection con = new SqlConnection(connString))
            {
                con.Open();
                SqlCommand cmd = new SqlCommand("SP_OTP", con);
                cmd.CommandType = CommandType.StoredProcedure;
                cmd.Parameters.AddWithValue("@Mode", "Verify");
                cmd.Parameters.AddWithValue("@Email", Email);
                cmd.Parameters.AddWithValue("@OTP", OTP);

                int valid = Convert.ToInt32(cmd.ExecuteScalar());

                if (valid == 0)
                {
                    TempData["error"] = "Invalid OTP!";
                    ViewBag.Email = Email;
                    return View();
                }
            }

            // OTP correct ‚Üí complete registration
            return RedirectToAction("CompleteRegister", new { Email = Email });
        }

        public ActionResult CompleteRegister(string Email)
        {
            var user = TempData["UserData"] as UserModel;
            string Role = TempData["Role"].ToString();

            if (user == null)
            {
                TempData["error"] = "Session expired. Please register again.";
                return RedirectToAction("Register");
            }

            using (SqlConnection con = new SqlConnection(connString))
            {
                con.Open();

                string query = "";

                if (Role == "Admin")
                {
                    query = @"INSERT INTO Admins (FullName, Email, PhoneNo, PasswordHash, Role)
                      VALUES (@FullName, @Email, @PhoneNo, @PasswordHash, @Role)";
                }
                else
                {
                    query = @"INSERT INTO Users (FullName, Email, Gender, PhoneNo, Address, IDProofType, IDProofNumber, Occupation, PasswordHash, Role)
                      VALUES (@FullName, @Email, @Gender, @PhoneNo, @Address, @IDProofType, @IDProofNumber, @Occupation, @PasswordHash, @Role)";
                }

                SqlCommand cmd = new SqlCommand(query, con);
                cmd.Parameters.AddWithValue("@FullName", user.FullName);
                cmd.Parameters.AddWithValue("@Email", user.Email);
                cmd.Parameters.AddWithValue("@PhoneNo", user.PhoneNo);
                cmd.Parameters.AddWithValue("@PasswordHash", user.Password);
                cmd.Parameters.AddWithValue("@Role", Role);

                if (Role == "User")
                {
                    cmd.Parameters.AddWithValue("@Gender", user.Gender ?? "");
                    cmd.Parameters.AddWithValue("@Address", user.Address ?? "");
                    cmd.Parameters.AddWithValue("@IDProofType", user.IDProofType ?? "");
                    cmd.Parameters.AddWithValue("@IDProofNumber", user.IDProofNumber ?? "");
                    cmd.Parameters.AddWithValue("@Occupation", user.Occupation ?? "");
                }

                cmd.ExecuteNonQuery();
            }

            TempData["success"] = "Account created successfully!";
            TempData["OpenLoginPopup"] = "true";

            return RedirectToAction("Index", "Home", new { openLogin ="true"});
        }

        private void SendOTPEmail(string Email, string OTP)
        {
            try
            {
                MailMessage mail = new MailMessage();
                mail.To.Add(Email);
                mail.From = new MailAddress("stayeasepgbooking@gmail.com");
                mail.Subject = "StayEase Registration OTP";
                mail.Body = $"Your OTP for StayEase registration is: {OTP}";
                mail.IsBodyHtml = false;

                SmtpClient smtp = new SmtpClient("smtp.gmail.com", 587);
                smtp.Credentials = new NetworkCredential("stayeasepgbooking@gmail.com", "fstz tzcr yxbj bkbx");
                smtp.EnableSsl = true;

                smtp.Send(mail);
            }
            catch (Exception ex)
            {
                TempData["error"] = "Email error: " + ex.Message;
            }
        }


        // ===================== LOGIN ======================

        [HttpGet]
        public ActionResult Login()
        {
            return RedirectToAction("Index", "Home", new { openLogin = "true" });
        }

        [HttpPost]
        public ActionResult Login(string email, string password)
        {
            try
            {
                using (SqlConnection con = new SqlConnection(connString))
                {
                    con.Open();

                    // Check Admin
                    string adminQuery = @"SELECT AdminID AS ID, FullName, 'Admin' AS Role 
                                  FROM Admins 
                                  WHERE Email=@Email AND PasswordHash=@Password";

                    using (SqlCommand adminCmd = new SqlCommand(adminQuery, con))
                    {
                        adminCmd.Parameters.Add(new SqlParameter("@Email", SqlDbType.VarChar) { Value = email });
                        adminCmd.Parameters.Add(new SqlParameter("@Password", SqlDbType.VarChar) { Value = password });

                        using (SqlDataReader dr = adminCmd.ExecuteReader())
                        {
                            if (dr.Read())
                            {
                                Session["UserID"] = dr["ID"].ToString();
                                Session["AdminID"] = dr["ID"].ToString();
                                Session["FullName"] = dr["FullName"].ToString();
                                Session["Role"] = dr["Role"].ToString();

                                TempData["success"] = "Admin Login Successful!";
                                return RedirectToAction("Dashboard", "Admin");
                            }
                        }
                    }

                    // Check User
                    string userQuery = @"SELECT UserID AS ID, FullName, 'User' AS Role 
                                 FROM Users 
                                 WHERE Email=@Email AND PasswordHash=@Password";

                    using (SqlCommand userCmd = new SqlCommand(userQuery, con))
                    {
                        userCmd.Parameters.Add(new SqlParameter("@Email", SqlDbType.VarChar) { Value = email });
                        userCmd.Parameters.Add(new SqlParameter("@Password", SqlDbType.VarChar) { Value = password });

                        using (SqlDataReader dr = userCmd.ExecuteReader())
                        {
                            if (dr.Read())
                            {
                                Session["UserID"] = dr["ID"].ToString();
                                Session["FullName"] = dr["FullName"].ToString();
                                Session["Role"] = dr["Role"].ToString();

                                TempData["success"] = "Login Successful!";
                                return RedirectToAction("Index", "Home");
                            }
                        }
                    }

                    TempData["error"] = "Invalid Email or Password!";
                    return View();
                }
            }
            catch (Exception ex)
            {
                TempData["error"] = "Login error: " + ex.Message;
                return View();
            }
        }


        // ===================== LOGOUT ======================
        public ActionResult Logout()
        {
            Session.Clear();
            Session.Abandon();
            TempData["success"] = "Logged out successfully!";
            return RedirectToAction("Login");
        }

        [HttpGet]
        public ActionResult VerifyOTP(string Email)
        {
            ViewBag.Email = Email;
            return View();
        }

        [HttpGet]
        public ActionResult ResetPassword(string Email)
        {
            ViewBag.Email = Email;
            return View();
        }

        // ===================== ======================
        [HttpGet]
        public ActionResult ForgotPassword()
        {
            return View();
        }

        [HttpPost]
        public ActionResult SendOTP(string Email)
        {
            string otp = new Random().Next(100000, 999999).ToString();

            // STEP 1: CHECK EMAIL EXISTS
            using (SqlConnection con = new SqlConnection(connString))
            {
                SqlCommand cmd = new SqlCommand("SP_ForgotPassword", con);
                cmd.CommandType = CommandType.StoredProcedure;
                cmd.Parameters.AddWithValue("@Mode", "CheckEmail");
                cmd.Parameters.AddWithValue("@Email", Email);

                con.Open();
                int count = Convert.ToInt32(cmd.ExecuteScalar());
                if (count == 0)
                {
                    TempData["error"] = "Email not found!";
                    return View("ForgotPassword");
                }
            }

            // STEP 2: SAVE OTP
            using (SqlConnection con = new SqlConnection(connString))
            {
                SqlCommand cmd = new SqlCommand("SP_ForgotPassword", con);
                cmd.CommandType = CommandType.StoredProcedure;
                cmd.Parameters.AddWithValue("@Mode", "InsertOTP");
                cmd.Parameters.AddWithValue("@Email", Email);
                cmd.Parameters.AddWithValue("@OTP", otp);

                con.Open();
                cmd.ExecuteNonQuery();
            }

            // STEP 3: SEND OTP EMAIL
            SendOTPEmailForgotPassword(Email, otp);

            TempData["success"] = $"OTP Sent to {Email}";
            ViewBag.Email = Email;
            return View("VerifyOTP");
        }

        [HttpPost]
        public ActionResult VerifyOTP(string Email, string OTP)
        {
            using (SqlConnection con = new SqlConnection(connString))
            {
                SqlCommand cmd = new SqlCommand("SP_ForgotPassword", con);
                cmd.CommandType = CommandType.StoredProcedure;
                cmd.Parameters.AddWithValue("@Mode", "VerifyOTP");
                cmd.Parameters.AddWithValue("@Email", Email);
                cmd.Parameters.AddWithValue("@OTP", OTP);

                con.Open();
                int valid = Convert.ToInt32(cmd.ExecuteScalar());

                if (valid == 1)
                {
                    TempData["success"] = "OTP Verified!";
                    ViewBag.Email = Email;
                    return View("ResetPassword");
                }
                else
                {
                    TempData["error"] = "Invalid OTP!";
                    ViewBag.Email = Email;
                    return View("VerifyOTP");
                }
            }
        }

        [HttpPost]
        public ActionResult ResetPassword(string Email, string NewPassword, string ConfirmPassword)
        {
            if (NewPassword != ConfirmPassword)
            {
                TempData["error"] = "Password mismatch!";
                ViewBag.Email = Email;
                return View();
            }

            using (SqlConnection con = new SqlConnection(connString))
            {
                SqlCommand cmd = new SqlCommand("SP_ForgotPassword", con);
                cmd.CommandType = CommandType.StoredProcedure;
                cmd.Parameters.AddWithValue("@Mode", "UpdatePassword");
                cmd.Parameters.AddWithValue("@Email", Email);
                cmd.Parameters.AddWithValue("@NewPassword", NewPassword);

                con.Open();
                cmd.ExecuteNonQuery();
            }

            TempData["success"] = "Password Updated Successfully!";
            return RedirectToAction("Login");
        }

        // ===================== EMAIL FUNCTION ======================
        private void SendOTPEmailForgotPassword(string Email, string OTP)
        {
            try
            {
                MailMessage mail = new MailMessage();
                mail.To.Add(Email);
                mail.From = new MailAddress("stayeasepgbooking@gmail.com"); // Replace with your email
                mail.Subject = "StayEase - Password Reset OTP";
                mail.Body = "Your OTP is: " + OTP;
                mail.IsBodyHtml = false;

                SmtpClient smtp = new SmtpClient("smtp.gmail.com", 587);
                smtp.Credentials = new NetworkCredential("stayeasepgbooking@gmail.com", "fstz tzcr yxbj bkbx"); // Use Gmail App Password
                smtp.EnableSsl = true;
                smtp.Send(mail);
            }
            catch (Exception ex)
            {
                TempData["error"] = "Error sending email: " + ex.Message;
            }
        }
    }
}





using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace StayEasePG.Controllers
{
    public class AdminController : Controller
    {
       public ActionResult Dashboard()
        {
            return View();
        }

    }
}




Login.cshtml


@{
    Response.Redirect("/Home/Index?openLogin=true");
}




@*@model StayEasePG.Models.UserModel

    @{
        ViewBag.Title = "Register";
        Layout = "~/Views/Shared/_Layout.cshtml";
    }

    <style>
        /* Background same as login */
        body {
            background: linear-gradient(135deg, #071028, #0b1c3f);
            color: white;
        }

        /* Center page like login */
        .page-center {
            min-height: 90vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Register popup card */
        .reg-card {
            background: rgba(255, 255, 255, 0.06);
            padding: 35px;
            width: 600px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 20px rgba(0,0,0,0.45);
            transition: 0.25s ease;
        }

            .reg-card:hover {
                transform: translateY(-6px);
                box-shadow: 0 0 22px rgba(245, 210, 106, 0.35);
                border-color: #f5d26a;
            }

        .reg-title {
            text-align: center;
            color: #f5d26a;
            font-size: 30px;
            font-weight: 700;
            margin-bottom: 25px;
        }

        .form-label {
            color: #f5d26a;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .form-control {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: white;
            border-radius: 10px;
            padding: 10px;
        }

            .form-control:focus {
                border-color: #f5d26a;
                background: rgba(255, 255, 255, 0.15);
                box-shadow: 0 0 8px rgba(245, 210, 106, 0.5);
            }

        /* Register button */
        .btn-register {
            background: #f5d26a;
            color: #071028;
            border: none;
            padding: 12px;
            width: 100%;
            font-weight: 700;
            border-radius: 10px;
            margin-top: 15px;
            transition: .25s;
        }

            .btn-register:hover {
                background: #ffe8a4;
                box-shadow: 0 0 12px rgba(245, 210, 106, 0.6);
            }

        .login-link {
            text-align: center;
            display: block;
            margin-top: 15px;
            color: #f5d26a;
            font-weight: 600;
            text-decoration: none;
        }

            .login-link:hover {
                color: white;
                text-decoration: underline;
            }

        .mb-3
        {
            margin-bottom: 18px;
        }

        select
        {
            height: 45px;
            padding-left :10px;
            font-size: 15px;
            color: #000;
        }

        select option
        {
            color:aliceblue;
        }







        /* Increase size for all text boxes */
        .form-control {
            height: 45px; /* Increase height */
            font-size: 1.4rem; /* Adjust font    font-size: 1rem;    /* Adjust font size */
            padding: 10px; /* Add padding for better look */
            box-sizing: border-box;
        }

        .form-control {
            width: 100%; /* Full width inside its column */
            max-width: 500px; /* Optional: limit max width */
            height: 45px;
        }


        /* Your base colors (adjust as you prefer) */
        :root {
            --input-bg: #2b3b55; /* dark input background */
            --input-text: #ffffff; /* text color */
            --input-border: #3c4a67; /* neutral border */
        }

        /* All text inputs, email, number, password, textarea, select */
        .form-control,
        .form-select,
        input[type="text"],
        input[type="email"],
        input[type="number"],
        input[type="password"],
        textarea,
        select {
            background-color: var(--input-bg) !important;
            color: var(--input-text) !important;
            border: 1px solid var(--input-border) !important;
            box-shadow: none !important; /* remove any glow */
        }

            /* Remove color change on focus */
            .form-control:focus,
            .form-select:focus,
            input:focus,
            textarea:focus,
            select:focus {
                background-color: var(--input-bg) !important;
                color: var(--input-text) !important;
                border-color: var(--input-border) !important;
                box-shadow: none !important;
                outline: none !important;
            }

        /* Placeholder color for dark backgrounds */
        ::placeholder {
            color: #c7cbd6;
            opacity: 1;
        }

        /* Remove focus ring and keep neutral border */
        .form-select:focus {
            border-color: var(--input-border) !important;
            outline: none !important;
            box-shadow: none !important;
        }


        /* Autofill background fix for Chromium browsers */
        input:-webkit-autofill,
        textarea:-webkit-autofill,
        select:-webkit-autofill {
            -webkit-text-fill-color: var(--input-text) !important;
            transition: background-color 99999s ease-in-out 0s; /* prevent flash */
            box-shadow: 0 0 0px 1000px var(--input-bg) inset !important; /* repaint */
        }

            /* On focus + autofill also keep same */
            input:-webkit-autofill:focus,
            textarea:-webkit-autofill:focus,
            select:-webkit-autofill:focus {
                -webkit-text-fill-color: var(--input-text) !important;
                box-shadow: 0 0 0px 1000px var(--input-bg) inset !important;
            }


        .is-valid,
        .is-invalid,
        .was-validated .form-control:valid,
        .was-validated .form-control:invalid,
        .was-validated .form-select:valid,
        .was-validated .form-select:invalid {
            background-color: var(--input-bg) !important;
            border-color: var(--input-border) !important;
            box-shadow: none !important;
        }



    </style>


    <div class="page-center">
        <div class="reg-card">

            <h3 class="reg-title">Create Your StayEase Account</h3>


            @if (TempData["success"] != null)
            {
                <div class="alert alert-success">@TempData["success"]</div>
            }
            @if (TempData["error"] != null)
            {
                <div class="alert alert-danger">@TempData["error"]</div>
            }

            @using (Html.BeginForm("Register", "Account", FormMethod.Post))
            {
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="row">

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Full Name</label>
                        @Html.TextBoxFor(m => m.FullName, new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Email</label>
                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Gender</label>
                        @Html.DropDownListFor(m => m.Gender,
                            new SelectList(new[] { "Male", "Female", "Other" }),
                            "Select Gender",
                            new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Phone Number</label>
                        @Html.TextBoxFor(m => m.PhoneNo, new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-12 mb-3">
                        <label class="form-label">Address</label>
                        @Html.TextAreaFor(m => m.Address, new { @class = "form-control", rows = "2" , Column = "4", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">ID Proof Type</label>
                        @Html.DropDownListFor(m => m.IDProofType,
                            new SelectList(new[] { "Aadhar", "Driving Licence" }),
                            "Select ID Proof",
                            new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">ID Proof Number</label>
                        @Html.TextBoxFor(m => m.IDProofNumber, new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Occupation</label>
                        @Html.DropDownListFor(m => m.Occupation,
                            new SelectList(new[] { "Student", "Working Professional" }),
                            "Select Occupation",
                            new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Role</label>
                        @Html.DropDownListFor(m => m.Role,
                            new SelectList(new[] { "User", "Admin" }),
                            "Select Role",
                            new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Password</label>
                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "required" })
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label">Confirm Password</label>
                        @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", required = "required" })
                    </div>

                </div>

                <button type="submit" class="btn-register">Register</button>

                <a href="/Account/Login" class="login-link">Already have an account? Login</a>

                <script>
                    function openLoginFromRegister() {
                        window.location.href = '/Home/Index?openLogin=true';
                    }
                </script>
            }

        </div>
    </div>*@







@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="text-center mt-3">Create Your Account</h2>

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">

            @if (TempData["error"] != null)
            {
                <div class="alert alert-danger">@TempData["error"]</div>
            }
            @if (TempData["success"] != null)
            {
                <div class="alert alert-success">@TempData["success"]</div>
            }

            <form method="post" action="/Account/Register">

                <div class="mb-3">
                    <label>Full Name</label>
                    <input type="text" name="FullName" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>Email</label>
                    <input type="email" name="Email" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>Phone No</label>
                    <input type="text" name="PhoneNo" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>Gender</label>
                    <select name="Gender" class="form-control" required>
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Others">Others</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label>Address</label>
                    <input type="text" name="Address" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>ID Proof Type</label>
                    <select name="IDProofType" class="form-control" required>
                        <option value="">Select Proof</option>
                        <option value="Aadhar">Aadhar</option>
                        <option value="PAN">PAN</option>
                        <option value="Voter ID">Voter ID</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label>ID Proof Number</label>
                    <input type="text" name="IDProofNumber" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>Occupation</label>
                    <input type="text" name="Occupation" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>Password</label>
                    <input type="password" name="Password" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label>Confirm Password</label>
                    <input type="password" name="ConfirmPassword" class="form-control" required />
                </div>

                <button class="btn btn-primary w-100 mt-3">Register</button>

                <div class="text-center mt-3">
                    <a href="#" onclick="openLoginPopup()">Already have an account? Login</a>
                </div>

            </form>
        </div>
    </div>
</div>









@*@*@*@*@model List<StayEasePG.Models.PG>
    @{
        Layout = null;
    }
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Stay Ease - PG Booking</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
        <!-- Custom CSS -->
        <style>

            body {
                font-family: 'Montserrat', sans-serif;
                margin: 0;
                padding: 0;
                background-color: #f5f5f5;
            }
            /* Hero Section */
            .hero-section {
                background: linear-gradient(rgba(0,0,50,0.5), rgba(0,0,50,0.5)), url('/Content/Images/pg_banner.jpg') center/cover no-repeat;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                color: gold;
                text-align: center;
                position: relative;
                overflow: hidden;
            }

                .hero-section h1 {
                    font-size: 60px;
                    display: inline-block;
                    transition: transform 0.8s ease-in-out;
                }

                    .hero-section h1:hover {
                        transform: translateY(-20px);
                    }

                .hero-section p {
                    font-size: 24px;
                    margin-top: 20px;
                    transition: transform 0.8s ease-in-out;
                }

                    .hero-section p:hover {
                        transform: translateY(-10px);
                    }
            /* Buttons */
            .btn-gold {
                background-color: gold;
                color: #001f3f;
                font-weight: bold;
                border-radius: 50px;
                padding: 12px 30px;
                transition: 0.3s;
            }

                .btn-gold:hover {
                    background-color: #ffd700cc;
                    transform: scale(1.1);
                }
            /* Slideshow */
            .carousel-inner img {
                height: 500px;
                object-fit: cover;
            }
            /* Features */
            .features {
                background-color: #001f3f;
                color: gold;
                padding: 60px 0;
                text-align: center;
            }

                .features h2 {
                    margin-bottom: 40px;
                }

                .features .feature-card {
                    padding: 20px;
                    transition: transform 0.3s;
                }

                    .features .feature-card:hover {
                        transform: translateY(-10px);
                    }
            /* Footer */
            footer {
                background-color: #001f3f;
                color: gold;
                padding: 20px 0;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <!-- Hero Section -->
        <section class="hero-section">
            <div>
                <h1>Welcome to Stay Ease</h1>
                <p>Your Smart PG Booking Solution</p>
                @foreach (var pg in Model)
                {
                    <a href="@Url.Action("Details", "PGDetails", new { id = pg.PGID })" class="btn btn-gold mt-4">
                        View Details
                    </a>
                }
            </div>
        </section>
        <!-- Slideshow -->
        <div id="pgCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/Content/Images/slide1.jpg" class="d-block w-100" alt="PG 1">
                </div>
                <div class="carousel-item">
                    <img src="/Content/Images/slide2.jpg" class="d-block w-100" alt="PG 2">
                </div>
                <div class="carousel-item">
                    <img src="/Content/Images/slide3.jpg" class="d-block w-100" alt="PG 3">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#pgCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#pgCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <h2>Our Features</h2>
                <div class="row">
                    <div class="col-md-4 feature-card">
                        <h4>User Friendly</h4>
                        <p>Easy registration, booking, and payment system.</p>
                    </div>
                    <div class="col-md-4 feature-card">
                        <h4>PG Categories</h4>
                        <p>Girls PG, Boys PG, and Co-Living for better filtering.</p>
                    </div>
                    <div class="col-md-4 feature-card">
                        <h4>Food Menu</h4>
                        <p>View and update breakfast, lunch, and dinner menus.</p>
                    </div>
                    <div class="col-md-4 feature-card mt-4">
                        <h4>Notifications</h4>
                        <p>Booking confirmations, reminders, and alerts.</p>
                    </div>
                    <div class="col-md-4 feature-card mt-4">
                        <h4>Secure Payments</h4>
                        <p>Online payment integration for hassle-free transactions.</p>
                    </div>
                    <div class="col-md-4 feature-card mt-4">
                        <h4>Feedback System</h4>
                        <p>Submit suggestions for cleaning, food, and maintenance.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- Footer -->
        <footer>
            <p>&copy; 2025 Stay Ease. All Rights Reserved.</p>
        </footer>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>*@*


@{

    ViewBag.Title = "Home Page";

}
<style>



    body {
        background: linear-gradient(135deg, #0e1628, #08101f, #050910);
        color: white;
        font-family: 'Poppins', sans-serif;
    }




    /* ================= LOGIN BUTTON ================= */
    .login-btn {
        position: absolute;
        top: 20px;
        right: 30px;
        padding: 10px 22px;
        background: #f5d26a;
        border-radius: 25px;
        color: #0e1628;
        font-weight: 600;
        text-decoration: none;
        transition: 0.3s;
    }

        .login-btn:hover {
            background: #ffdf85;
            box-shadow: 0 0 12px #f5d26a;
        }











    /* ================= HERO ================= */
    .hero {
        text-align: center;
        padding: 90px 20px;
    }

        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            color: #f5d26a;
            margin-bottom: 12px;
        }

        .hero p {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 30px;
        }




    /* ================= BOOK PG BUTTON ================= */
    .btn-gold {
        padding: 12px 24px;
        background: #f5d26a;
        color: #0e1628;
        border: none;
        border-radius: 25px;
        font-weight: 600;
        text-decoration: none;
        transition: 0.3s;
    }

        .btn-gold:hover {
            background: #ffdf85;
            box-shadow: 0 0 12px #f5d26a;
        }



    .hero-section {
        text-align: center;
        margin-top: -20px;
    }




    /* ================= BENEFITS ================= */
    .features {
        padding: 40px;
    }

        .features h2 {
            text-align: center;
            font-size: 34px;
            margin-bottom: 30px;
            color: #f5d26a;
        }

    .feature-row {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
    }

    .feature-box {
        width: 250px;
        background: rgba(255,255,255,0.05);
        margin: 12px;
        padding: 20px;
        text-align: center;
        border-radius: 12px;
    }

    .icon {
        font-size: 40px;
        margin-bottom: 10px;
    }




    /* ================= OUR FEATURES (MODERN) ================= */
    .features-modern {
        padding: 60px 40px;
    }

        .features-modern h2 {
            text-align: center;
            font-size: 34px;
            margin-bottom: 35px;
            color: #f5d26a;
        }

        .features-modern .row {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

    .feature-modern-card {
        background: rgba(255, 255, 255, 0.06);
        width: 260px;
        padding: 20px;
        margin: 12px;
        border-radius: 14px;
        text-align: center;
        border: 1px solid rgba(255,255,255,0.10);
        box-shadow: 0 0 12px rgba(255,255,255,0.04);
        transition: transform .25s, box-shadow .25s, border-color .25s;
    }

        .feature-modern-card:hover {
            transform: translateY(-8px);
            border-color: #f5d26a;
            box-shadow: 0 0 18px #f5d26a66;
        }

        .feature-modern-card h4 {
            color: #f5d26a;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .feature-modern-card p {
            font-size: 15px;
            opacity: 0.85;
        }
</style>

@if (TempData["OpenLoginPopup"] != null)
{
    <script>
        window.onload = function () {
            document.getElementById("openLoginPopupButton").click();
        }
    </script>
}

<!-- ================= LOGIN BUTTON ================= -->
<a href="#" class="login-btn" data-toggle="modal" data-target="#loginModal">Login</a>

<!-- ================= HERO SECTION ================= -->
<section class="hero">
    <h1>Find Your Perfect PG</h1>
    <p>Discover boys, girls & co-living PGs in top cities with transparent pricing.</p>
</section>

<section class="hero-section">
    <a href="/PGDetails/Details/1" class="btn btn-gold mt-4">Book PG's</a>
</section>




<!-- ================= OUR FEATURES SECTION ================= -->
<section class="features-modern">
    <h2>Our Features</h2>
    <div class="row">

        <div class="feature-modern-card">
            <h4>User Friendly</h4>
            <p>Easy registration, booking, and payment system.</p>
        </div>

        <div class="feature-modern-card">
            <h4>PG Categories</h4>
            <p>Girls PG, Boys PG, and Co-Living for better filtering.</p>
        </div>

        <div class="feature-modern-card">
            <h4>Food Menu</h4>
            <p>View and update breakfast, lunch, and dinner menus.</p>
        </div>

        <div class="feature-modern-card">
            <h4>Notifications</h4>
            <p>Booking confirmations, reminders, and alerts.</p>
        </div>

        <div class="feature-modern-card">
            <h4>Secure Payments</h4>
            <p>Online payment integration for hassle-free transactions.</p>
        </div>

        <div class="feature-modern-card">
            <h4>Feedback System</h4>
            <p>Submit suggestions for cleaning, food, and maintenance.</p>
        </div>

    </div>
</section>

<!-- ================= BENEFITS ================= -->
<section class="features">
    <h2>Why Choose EasyStay</h2>
    <div class="feature-row">
        <div class="feature-box">
            <div class="icon">üè†</div>
            <h4>Verified Stays</h4>
            <p>Every property is checked to ensure safety & comfort.</p>
        </div>

        <div class="feature-box">
            <div class="icon">üí≥</div>
            <h4>Secure Payments</h4>
            <p>End-to-end encrypted transactions.</p>
        </div>

        <div class="feature-box">
            <div class="icon">‚≠ê</div>
            <h4>Premium Service</h4>
            <p>24√ó7 support with customer-first service.</p>
        </div>
    </div>
</section>



<script>

    function goToCity(pagePath, pageTitle) {

        try {

            sessionStorage.setItem('easyStay_pageTitle', pageTitle || '');

            window.location.href = pagePath;

        } catch (e) {

            window.location.href = pagePath;

        }

    }






@{

    string current = ViewContext.RouteData.Values["Action"].ToString().ToLower();

    string userRole = Session["Role"] as string;

}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Stay-Ease</title>

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

    <style>


        :root {
            --royal-1: #071028;
            --royal-2: #0b1c3f;
            --gold-1: #cfa23a;
            --gold-2: #f5d26a;
            --text: #ffffff;
        }




        /* NAVBAR */
        .navbar-custom {
            padding: 17px;
            background: linear-gradient(135deg, var(--royal-1), var(--royal-2));
            border-bottom: 1px solid rgba(207,162,58,0.3);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }



        .navbar-brand {
            color: var(--gold-2) !important;
            font-weight: 800;
            font-size: 1.8rem;
        }



        .navbar-custom .navbar-nav > li > a {
            color: var(--gold-1);
            font-weight: 600;
            transition: 0.3s;
        }



            .navbar-custom .navbar-nav > li > a:hover {
                color: var(--gold-2);
            }



        .dashboard-link a {
            color: #4CAF50 !important;
            font-weight: 700 !important;
        }



            .dashboard-link a:hover {
                color: #81C784 !important;
            }




        /* LOGIN BUTTON */
        .login-btn {
            background: var(--gold-1);
            color: #071028;
            padding: 10px 18px;
            border-radius: 10px;
            font-weight: 700;
            border: none;
            transition: 0.3s;
        }



            .login-btn:hover {
                background: white;
            }




        /* LOGOUT */
        .logout-btn {
            background: #e04e4e;
            color: white;
            padding: 10px 18px;
            border-radius: 10px;
            border: none;
            font-weight: 700;
        }



            .logout-btn:hover {
                background: #ff6b6b;
            }



        .welcome-text {
            color: var(--gold-2);
            font-weight: 600;
            margin-right: 10px;
        }




        /* POPUP */
        .modal-content {
            background: #0c1733;
            padding: 30px;
            border-radius: 16px;
            border: 1px solid rgba(245,210,106,0.4);
            box-shadow: 0 0 25px rgba(0,0,0,0.6);
            color: white;
        }



        .popup-title {
            text-align: center;
            color: #f5d26a;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
        }



        .popup-label {
            color: #f5d26a;
            font-weight: 600;
        }



        .popup-input {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.15);
            color: white;
            margin-bottom: 15px;
        }



            .popup-input:focus {
                border-color: #f5d26a;
                box-shadow: 0 0 8px rgba(245,210,106,0.5);
            }



        .popup-btn {
            width: 100%;
            background: #f5d26a;
            color: #071028;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-weight: 700;
            margin-top: 10px;
        }



            .popup-btn:hover {
                background: #ffe8a4;
            }



        .popup-links a {
            color: #f5d26a;
            text-decoration: none;
        }



            .popup-links a:hover {
                color: white;
            }



        .modal-backdrop.show {
            opacity: 1 !important;
            backdrop-filter: blur(8px) brightness(0.4);
        }

        select, option {
            color: black !important;
        }


        footer {
            display: none !important;
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top navbar-custom">
        <div class="container">
            <div class="navbar-header">

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                @Html.ActionLink("Stay-Ease", "Index", "Home", null, new { @class = "navbar-brand" })
            </div>

            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li>@Html.ActionLink("Home", "Index", "Home")</li>
                    <li>@Html.ActionLink("About", "About", "Home")</li>
                    <li>@Html.ActionLink("Contact", "Contact", "Home")</li>

                    @if (!string.IsNullOrEmpty(userRole) && userRole == "Admin")

                    {

                        <li class="dashboard-link">
                            @Html.ActionLink("Admin Dashboard", "Dashboard", "Admin")
                        </li>

                    }
                </ul>

                <div class="header-buttons navbar-right">
                    @if (Session["FullName"] != null)

                    {

                        <span class="welcome-text">Welcome, @Session["FullName"]!</span>

                        <button class="logout-btn" onclick="window.location.href='@Url.Action("Logout","Account")'">Logout</button>

                    }

                    else 

                    {

                        <button class="login-btn" data-toggle="modal" data-target="#loginModal">Login</button>

                    }
                </div>

            </div>
        </div>
    </div>

    <div class="container body-content" style="margin-top:100px;">
        @RenderBody()
    </div>

    <!-- LOGIN POPUP -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <h2 class="popup-title">Login</h2>

                @using (Html.BeginForm("Login", "Account", FormMethod.Post))

                {

                    <div class="form-group">
                        <label class="popup-label">Email or Username</label>
                        @Html.TextBox("email", null, new { @class = "popup-input", placeholder = "Enter your email" })
                    </div>



                    <div class="form-group" style="margin-top:15px;">
                        <label class="popup-label">Password</label>
                        @Html.Password("password", null, new { @class = "popup-input", placeholder = "Enter your password" })
                    </div>



                    <button type="submit" class="popup-btn">Login</button>



                    <div class="popup-links text-center mt-3">
                        <a href="/Account/ForgotPassword">Forgot Password?</a><br />
                        <a href="@Url.Action("Register","Account")">New User? Register Here</a>
                    </div>

                }
            </div>
        </div>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")

    <!-- AUTO-OPEN LOGIN POPUP -->
    <script>

        $(document).ready(function () {

            var url = new URL(window.location.href);

            if (url.searchParams.get("openLogin") === "true") {

                $("#loginModal").modal("show");

            }

        });

    </script>

    @RenderSection("scripts", required: false)
</body>
</html>





<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <link href="~/Content/Admin.css" rel="stylesheet" />
</head>
<body>
    <nav class="admin-nav">
        <div class="logo">Stay Ease Admin</div>
        <div class="menu">
            <span>@Session["UserName"]</span>
            <a href="/Admin/Logout">Logout</a>
        </div>
    </nav>
    <div class="content">
        @RenderBody()
    </div>
</body>
</html>



